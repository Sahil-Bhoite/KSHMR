<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
    <meta charset="UTF-8">
    <title>KSHMR - Home</title>
</head>

<body>
    <section>
        <!-- Hero Section -->
        <div class="position-relative vh-100 d-flex align-items-center justify-content-center overflow-hidden">
            <div class="position-absolute top-0 start-0 w-100 h-100">
                <img th:src="@{/img/hero-main.png}" alt="Kashmir Handcrafts" class="w-100 h-100 object-fit-cover"
                    style="filter: brightness(0.85);">
            </div>
            <div class="container position-relative text-center text-white animate-fade-up">
                <p class="text-uppercase letter-spacing-3 mb-4 small text-gold">Est. 2024 Â· Srinagar</p>
                <h1 class="display-1 mb-5 text-white font-heading fw-normal" style="letter-spacing: -0.02em;">
                    Handcrafted <br> Elegance</h1>
                <p class="lead mb-5 mx-auto text-white-75 fw-light" style="max-width: 600px;">
                    Discover the artistry, skill, and heritage behind every piece. Authentic creations from the valley
                    of Kashmir.
                </p>
                <div class="d-flex gap-4 justify-content-center">
                    <a href="/products" class="btn btn-kshmr border-white bg-transparent hover-white px-5 py-3">Shop
                        Collection</a>
                </div>
            </div>
            <div class="position-absolute bottom-0 start-50 translate-middle-x mb-5 animate-bounce">
                <span class="text-white-50 small text-uppercase letter-spacing-2"
                    style="font-size: 0.7rem;">Scroll</span>
            </div>
        </div>

        <!-- Section: Bestsellers (Mini Carousel) -->
        <div class="py-6 bg-white">
            <div class="container container-custom">
                <div class="text-center mb-5">
                    <span class="text-gold text-uppercase letter-spacing-2 small">Top Picks</span>
                    <h2 class="font-heading mt-2">This Season's Favorites</h2>
                </div>
                <!-- Simple Row for now, could be carousel -->
                <div class="row g-4 justify-content-center">
                    <div class="col-lg-3 col-6" th:each="p, iterStat : ${products}" th:if="${iterStat.index < 3}">
                        <div class="text-center">
                            <div class="rounded-circle overflow-hidden mx-auto mb-3 shadow-sm"
                                style="width: 200px; height: 200px;">
                                <img th:src="@{'/img/'+${p.image}}" class="w-100 h-100 object-fit-cover">
                            </div>
                            <h6 class="font-heading"><a th:href="@{'/product/'+${p.id}}"
                                    class="text-dark text-decoration-none">[[${p.title}]]</a></h6>
                            <span class="text-muted small">&#8377;[[${p.price}]]</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section: Curated Collections (Wide Grid) -->
        <div class="py-6 bg-secondary">
            <div class="container container-custom">
                <div class="row g-0 align-items-center">
                    <div class="col-lg-5 p-5">
                        <span class="text-uppercase letter-spacing-2 text-muted small">Curated</span>
                        <h2 class="font-heading display-4 mb-4">Winter Warmth</h2>
                        <p class="text-muted mb-4 fw-light">Wrap yourself in the unparalleled softness of authentic
                            Pashmina. Hand-woven by master artisans who have perfected their craft over generations.</p>
                        <a href="/products?category=Pashmina"
                            class="btn btn-outline-dark rounded-0 text-uppercase letter-spacing-1 px-4">Shop Shawls</a>
                    </div>
                    <div class="col-lg-7">
                        <div class="position-relative" style="height: 600px;">
                            <img th:src="@{/img/product-shawl.png}" class="w-100 h-100 object-fit-cover">
                        </div>
                    </div>
                </div>
                <div class="row g-0 align-items-center flex-lg-row-reverse mt-5">
                    <div class="col-lg-5 p-5">
                        <span class="text-uppercase letter-spacing-2 text-muted small">Decor</span>
                        <h2 class="font-heading display-4 mb-4">Royal Interiors</h2>
                        <p class="text-muted mb-4 fw-light">Transform your living space with the intricate beauty of
                            Walnut wood carving and hand-knotted silk carpets.</p>
                        <a href="/products?category=Carpets"
                            class="btn btn-outline-dark rounded-0 text-uppercase letter-spacing-1 px-4">View Decor</a>
                    </div>
                    <div class="col-lg-7">
                        <div class="position-relative" style="height: 600px;">
                            <img th:src="@{/img/product-namda.png}" class="w-100 h-100 object-fit-cover">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section: Parallax Story -->
        <div class="parallax-section">
            <div class="parallax-overlay"></div>
            <div class="position-relative text-center text-white p-5 animate-fade-up">
                <span class="text-gold text-uppercase letter-spacing-3 mb-3 d-block">Legacy</span>
                <h2 class="display-3 font-heading mb-4">From the Valley of Saints</h2>
                <p class="lead text-white-75 mb-5 mx-auto" style="max-width: 700px;">
                    Every thread, every carving, every knot tells a story of the Himalayas. We bring you products that
                    are not just made, but born from a heritage of silence and beauty.
                </p>
                <a href="/about" class="btn btn-light rounded-0 px-5 py-3 text-uppercase letter-spacing-1">Read Our
                    Story</a>
            </div>
        </div>

        <!-- Section: New Arrivals Grid -->
        <div class="py-6 bg-white">
            <div class="container container-custom">
                <div class="d-flex justify-content-between align-items-end mb-5">
                    <div>
                        <span class="text-muted text-uppercase letter-spacing-1 small">Fresh from the Valley</span>
                        <h2 class="font-heading mb-0">New Arrivals</h2>
                    </div>
                    <a href="/products?category=New"
                        class="btn-link text-dark text-uppercase small letter-spacing-1">View All</a>
                </div>

                <div class="row g-4">
                    <!-- Loop limited to 4 items -->
                    <div class="col-lg-3 col-md-6" th:each="p, iterStat : ${products}" th:if="${iterStat.index < 4}">
                        <div class="card card-product border-0 h-100 bg-transparent">
                            <div class="position-relative overflow-hidden mb-3">
                                <img th:src="@{'/img/'+${p.image}}" class="w-100 object-fit-cover"
                                    style="aspect-ratio: 3/4;">
                                <div
                                    class="position-absolute bottom-0 start-0 w-100 p-3 bg-white bg-opacity-90 text-center opacity-0 hover-visible transition-fast">
                                    <a th:href="@{'/product/'+${p.id}}"
                                        class="text-dark small text-uppercase letter-spacing-1 text-decoration-none">Quick
                                        View</a>
                                </div>
                            </div>
                            <div class="text-center">
                                <h6 class="font-heading mb-1"><a th:href="@{'/product/'+${p.id}}"
                                        class="text-dark text-decoration-none">[[${p.title}]]</a></h6>
                                <p class="text-muted small mb-0">&#8377;[[${p.price}]]</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Included Features -->
        <div class="py-5 border-top">
            <div class="container container-custom">
                <div class="row text-center g-4 justify-content-center">
                    <div class="col-md-3">
                        <i class="fa-solid fa-truck-fast h4 text-muted mb-3"></i>
                        <h6 class="text-uppercase small letter-spacing-1">Global Shipping</h6>
                        <p class="text-muted small mb-0">Delivering Kashmir to the World</p>
                    </div>
                    <div class="col-md-3">
                        <i class="fa-solid fa-ribbon h4 text-muted mb-3"></i>
                        <h6 class="text-uppercase small letter-spacing-1">Authenticity Guaranteed</h6>
                        <p class="text-muted small mb-0">Direct from Artisans</p>
                    </div>
                    <div class="col-md-3">
                        <i class="fa-solid fa-lock h4 text-muted mb-3"></i>
                        <h6 class="text-uppercase small letter-spacing-1">Secure Checkout</h6>
                        <p class="text-muted small mb-0">Safe & Encrypted</p>
                    </div>
                </div>
            </div>
        </div>

        <style>
            .hover-white:hover {
                color: var(--color-text-primary) !important;
                background-color: white !important;
                border-color: white !important;
            }

            .hover-visible {
                opacity: 0;
            }

            .card-product:hover .hover-visible {
                opacity: 1;
            }

            .animate-bounce {
                animation: bounce 2s infinite;
            }

            @keyframes bounce {

                0%,
                20%,
                50%,
                80%,
                100% {
                    transform: translateX(-50%) translateY(0);
                }

                40% {
                    transform: translateX(-50%) translateY(-10px);
                }

                60% {
                    transform: translateX(-50%) translateY(-5px);
                }
            }
        </style>
    </section>
</body>

</html>