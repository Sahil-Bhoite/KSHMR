<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
    <meta charset="UTF-8">
    <title>KSHMR - Checkout</title>
</head>

<body>
    <section>
        <div class="container container-custom py-5 my-5">
            <div class="row mb-5">
                <div class="col-12 text-center">
                    <span class="text-uppercase letter-spacing-2 small text-muted mb-2 d-block">Final Step</span>
                    <h1 class="display-4 font-heading">Secure Checkout</h1>
                </div>
            </div>

            <form action="/user/save-order" method="post" id="orders" novalidate>
                <div class="row g-5 justify-content-center">

                    <!-- Billing Details -->
                    <div class="col-lg-7">
                        <div class="mb-5">
                            <h4 class="mb-4 font-heading border-bottom pb-3">Shipping Address</h4>
                            <div class="row g-4">
                                <div class="col-sm-6">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">First
                                        Name</label>
                                    <input type="text" name="firstName" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>
                                <div class="col-sm-6">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">Last
                                        Name</label>
                                    <input type="text" name="lastName" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>

                                <div class="col-sm-6">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">Email</label>
                                    <input type="email" name="email" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>
                                <div class="col-sm-6">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">Mobile</label>
                                    <input type="text" name="mobileNo" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>

                                <div class="col-12">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">Address</label>
                                    <input type="text" name="address" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none"
                                        placeholder="Street Address">
                                </div>

                                <div class="col-md-5">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">City</label>
                                    <input type="text" name="city" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>
                                <div class="col-md-4">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">State</label>
                                    <input type="text" name="state" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>
                                <div class="col-md-3">
                                    <label
                                        class="form-label text-muted small text-uppercase letter-spacing-1 fw-bold">Zip</label>
                                    <input type="number" name="pincode" required
                                        class="form-control border-0 border-bottom rounded-0 bg-transparent ps-0 shadow-none">
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h4 class="mb-4 font-heading border-bottom pb-3">Payment Method</h4>
                            <div class="d-flex flex-column gap-3">
                                <div
                                    class="form-check p-4 border border-secondary rounded-2 bg-white transition-normal hover-shadow">
                                    <input id="cod" name="paymentType" type="radio"
                                        class="form-check-input shadow-none mt-1" value="COD" required checked>
                                    <label class="form-check-label w-100 ps-2" for="cod">
                                        <span
                                            class="d-block text-dark fw-bold text-uppercase small letter-spacing-1">Cash
                                            On Delivery</span>
                                        <span class="small text-muted">Pay securely when you receive your
                                            package.</span>
                                    </label>
                                </div>
                                <div
                                    class="form-check p-4 border border-secondary rounded-2 bg-white transition-normal hover-shadow">
                                    <input id="online" name="paymentType" type="radio"
                                        class="form-check-input shadow-none mt-1" value="ONLINE" required>
                                    <label class="form-check-label w-100 ps-2" for="online">
                                        <span
                                            class="d-block text-dark fw-bold text-uppercase small letter-spacing-1">Online
                                            Payment</span>
                                        <span class="small text-muted">Credit/Debit Card, Netbanking, UPI.</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="col-lg-5">
                        <div class="bg-secondary p-5 sticky-top rounded-2" style="top: 100px;">
                            <h4 class="mb-4 font-heading">Order Summary</h4>

                            <div class="d-flex justify-content-between mb-3 border-bottom pb-3 border-secondary">
                                <span class="text-uppercase small letter-spacing-1 text-muted">Subtotal</span>
                                <span class="font-body">&#8377; [[${orderPrice}]]</span>
                            </div>
                            <div class="d-flex justify-content-between mb-3 border-bottom pb-3 border-secondary">
                                <span class="text-uppercase small letter-spacing-1 text-muted">Shipping</span>
                                <span class="font-body">&#8377; 250</span> <!-- Hardcoded in original, keeping it -->
                            </div>
                            <div class="d-flex justify-content-between mb-3 border-bottom pb-3 border-secondary">
                                <span class="text-uppercase small letter-spacing-1 text-muted">Tax</span>
                                <span class="font-body">&#8377; 100</span> <!-- Hardcoded in original -->
                            </div>

                            <div class="d-flex justify-content-between mb-5 pt-2">
                                <span class="text-uppercase small letter-spacing-1 fw-bold">Total</span>
                                <span class="font-body fw-bold fs-4 text-sapphire">&#8377; [[${totalOrderPrice}]]</span>
                            </div>

                            <button class="btn btn-kshmr w-100 py-3 mb-3 shadow-sm">Place Order</button>

                            <div class="text-center">
                                <p class="small text-muted mb-0"><i class="fas fa-lock me-1"></i> Secure SSL Encrypted
                                    Transaction</p>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <style>
            .hover-shadow:hover {
                box-shadow: var(--shadow-sm);
                border-color: var(--color-charcoal) !important;
            }
        </style>
    </section>
</body>

</html>